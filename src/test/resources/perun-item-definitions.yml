
destinations:
  # global destination IdM attributes usable by system admins to define new item definitions
  - urn:perun:user:attribute-def:def:login-namespace:einfra
  - urn:perun:user:attribute-def:core:displayName

strategies:
  # global prefill strategies usable by system admins when defining new global item definitions
  - type: IDM_ATTRIBUTE
    sourceAttribute: urn:perun:member:attribute-def:def:address

definitions:
  # global item definitions assignable to form specifications by system admins
  # TODO require prefill strategies/destinations used here to be defined above or create them automatically?
  E-INFRA Login:
    type: LOGIN
    updatable: false
    required: true
    prefillStrategies:
      - type: LOGIN_ATTRIBUTE
    destinationAttributeUrn: urn:perun:user:attribute-def:def:login-namespace:einfra
    formTypes:
      - INITIAL
    hidden: NEVER
    disabled: IF_PREFILLED
    texts:
      en:
        label: "E-INFRA Login"
        help: "Enter your E-infra login username"
        error: "Invalid login format"
      cs:
        label: "E-INFRA přihlašovací jméno"
        help: "Zadejte své E-infra přihlašovací jméno"
        error: "Neplatný formát přihlašovacího jména"


  Full name:
    type: TEXTFIELD
    updatable: true
    required: true
    prefillStrategies:
      - type: IDM_ATTRIBUTE
        sourceAttribute: urn:perun:user:attribute-def:core:displayName
      - type: IDENTITY_ATTRIBUTE
        sourceAttribute: name
    destinationAttributeUrn: urn:perun:user:attribute-def:core:displayName
    formTypes:
      - INITIAL
    hidden: NEVER
    disabled: NEVER